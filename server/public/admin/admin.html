<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MukallaStay โ ููุญุฉ ุงูุฅุฏุงุฑุฉ</title>
<link rel="stylesheet" href="./admin.css">

</head>

<body>

<header class="topbar">
  <div class="container row">
    <div class="brand"><img src="./logo.svg" alt="" style="height:26px;"> MukallaStay Admin</div>
    <div class="controls">
      <button class="btn" id="tabBookings">๐ฆ ุงูุญุฌูุฒุงุช</button>
      <button class="btn ghost" id="tabStats">๐ ุงูุฅุญุตุงุฆูุงุช</button>
      <button class="btn ghost" id="tabUsers">๐ฅ ุงููุณุชุฎุฏููู</button>
      <button class="btn ghost" id="tabLogs">๐งพ ุงูุณุฌู</button>
    </div>
    <!-- ๐ ูุคุดุฑ ุญุงูุฉ ุงูุงุชุตุงู ุจุงูุณูุฑูุฑ -->
    <div class="admin-status">
      <span id="adminStatusDot" class="status-dot online"></span>
      <span id="adminStatusText">ูุชุตู ุจุงูุณูุฑูุฑ</span>
    </div>
  </div>
</header>

<main class="container">
  <!-- ๐ฆ ูุณู ุงูุญุฌูุฒุงุช -->
  <section id="bookingsSection">
    <!-- ๐น ุงูุฅุญุตุงุฆูุงุช ุงูุตุบูุฑุฉ -->
    <section class="stats" id="stats">
      <div class="card"><div class="stat-title">ุฅุฌูุงูู ุงูุญุฌูุฒุงุช</div><div class="stat-value" id="sTotal">โ</div></div>
      <div class="card"><div class="stat-title">ุจุงูุชุธุงุฑ ุงูููุฏู</div><div class="stat-value" id="sWait">โ</div></div>
      <div class="card"><div class="stat-title">ุจุงูุชุธุงุฑ ุงูุนุฑุจูู</div><div class="stat-value" id="sDeposit">โ</div></div>
      <div class="card"><div class="stat-title">ูุคูุฏุฉ</div><div class="stat-value" id="sConfirmed">โ</div></div>
    </section>

    

    <!-- ๐ ุฃุฏูุงุช ุงูุชุญูู -->
    <div class="controls" style="margin-bottom:14px;">
      <input type="text" id="search" class="input" placeholder="๐ ุงุจุญุซ ุจุฑูู ุงูุญุฌุฒ ุฃู ุงูุจุฑูุฏ">
      <select id="status" class="select">
        <option value="">ุฌููุน ุงูุญุงูุงุช</option>
        <option value="WAITING_HOTEL_CONFIRM">ุจุงูุชุธุงุฑ ุงูููุฏู</option>
        <option value="AWAITING_DEPOSIT">ุจุงูุชุธุงุฑ ุงูุนุฑุจูู</option>
        <option value="DEPOSIT_SENT">ุชู ุฅุฑุณุงู ุงูุนุฑุจูู</option>
        <option value="CONFIRMED">ูุคูุฏ</option>
        <option value="CANCELLED">ููุบู</option>
      </select>
      <button id="refresh" class="btn">๐ ุชุญุฏูุซ</button>
      <button id="demoSeed" class="btn ghost">๐งช ุญุฌุฒ ุชุฌุฑูุจู</button>
    </div>

    <!-- ๐น ุฌุฏูู ุงูุญุฌูุฒุงุช -->
    <section id="tableWrap" class="card" style="padding:0;overflow:hidden">
      <table class="table" id="table">
        <thead>
          <tr>
            <th>ุงูุญุฌุฒ</th>
            <th>ุงูุนููู</th>
            <th>ุงูููุฏู / ุงูุบุฑูุฉ</th>
            <th>ุงูุชูุงุฑูุฎ</th>
            <th>ุงูุญุงูุฉ</th>
            <th style="width:320px">ุฅุฌุฑุงุกุงุช</th>
          </tr>
        </thead>
        <tbody id="tbody">
          <tr><td colspan="6"><div class="skeleton"></div></td></tr>
          <tr><td colspan="6"><div class="skeleton"></div></td></tr>
          <tr><td colspan="6"><div class="skeleton"></div></td></tr>
        </tbody>
      </table>
    </section>
  </section>

  <!-- ๐ ูุณู ุงูุฅุญุตุงุฆูุงุช ุงูุนุงูุฉ -->
  <section id="statsSection" style="display:none;margin-top:30px;">
    <h2 style="color:#2c3e50;margin-bottom:20px;text-align:center;">ููุญุฉ ุงูุฅุญุตุงุฆูุงุช ุงูุนุงูุฉ</h2>
    
    <!-- ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช ุงูุฑุฆูุณูุฉ -->
    <div class="stats">
      <div class="card">
        <div class="stat-title">ุนุฏุฏ ุงูููุงุฏู ุงููุดุทุฉ</div>
        <div class="stat-value" id="totalHotels">โ</div>
      </div>
      <div class="card">
        <div class="stat-title">ุนุฏุฏ ุงูุญุฌูุฒุงุช</div>
        <div class="stat-value" id="totalBookings">โ</div>
      </div>
      <div class="card">
        <div class="stat-title">ุงูุนููุงุก ุงููุดุทูู</div>
        <div class="stat-value" id="activeClients">โ</div>
      </div>
      <div class="card">
        <div class="stat-title">๐ฐ ุฃุฑุจุงุญ ุงููููุน (1%)</div>
        <div class="stat-value" id="siteRevenue">โ</div>
      </div>
      <div class="card">
        <div class="stat-title">๐จ ุฃุฑุจุงุญ ุงูููุงุฏู (4%)</div>
        <div class="stat-value" id="hotelsRevenue">โ</div>
      </div>
    </div>

    <!-- ูุฎุทุท ุชุทูุฑ ุงูุญุฌูุฒุงุช -->
    <section class="card" style="margin-top:20px;">
      <h3 style="color:#97a0c3;font-size:14px;margin-bottom:15px;">ุชุทูุฑ ุงูุญุฌูุฒุงุช ุฎูุงู ุงูุดูุฑ</h3>
      <div style="max-width:600px;margin:auto;">
        <canvas id="chart" width="600" height="250"></canvas>
      </div>
    </section>

    <!-- ูุฎุทุท ุชูุฒูุน ุงูุญุฌูุฒุงุช -->
    <section class="card" style="margin-top:25px;">
      <h3 style="color:#97a0c3;font-size:14px;margin-bottom:15px;">ุชูุฒูุน ุงูุญุฌูุฒุงุช ุญุณุจ ุงูุญุงูุฉ</h3>
      <div style="max-width:400px;margin:auto;">
        <canvas id="chartPie" width="400" height="200"></canvas>
      </div>
    </section>

    <!-- ูุฎุทุท ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ -->
    <section class="card" style="margin-top:25px;">
      <h3 style="color:#97a0c3;font-size:14px;margin-bottom:15px;">๐ ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ (2025)</h3>
      <div style="max-width:700px;margin:auto;">
        <canvas id="revenueChart" width="700" height="300"></canvas>
      </div>
    </section>
    
    <!-- ๐ฐ ุชุชุจุน ุฅูุฑุงุฏุงุช ุงูููุงุฏู -->
    <section class="card" style="margin-top:25px;">
      <h3 style="color:#97a0c3;font-size:14px;margin-bottom:15px;">๐จ ุงูุฅูุฑุงุฏุงุช ุญุณุจ ุงูููุงุฏู (Top 5)</h3>
      <div style="max-width:700px;margin:auto;">
        <canvas id="hotelsRevenueChart" width="700" height="300"></canvas>
      </div>
      <div id="hotelRevenueList" style="margin-top:15px;text-align:center;color:#9fb0d8;font-size:14px;"></div>
    </section>
    
    <!-- ุฅุญุตุงุฆูุงุช ุฅุถุงููุฉ -->
    <div class="stats" style="margin-top:25px;">
      <div class="card">
        <div class="stat-title">ูุชูุณุท ูููุฉ ุงูุญุฌุฒ</div>
        <div class="stat-value" id="avgBookingValue">โ</div>
      </div>
      <div class="card">
        <div class="stat-title">ูุณุจุฉ ุงูุฅุดุบุงู</div>
        <div class="stat-value" id="occupancyRate">โ</div>
      </div>
      <div class="card">
        <div class="stat-title">ุฃุนูู ููุฏู ุญุฌูุฒุงุช</div>
        <div class="stat-value" id="topHotel">โ</div>
      </div>
    </div>
  </section>

  <!-- ๐ฅ ูุณู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู -->
  <section id="usersSection" style="display:none;margin-top:30px;">
    <h2 style="color:#2c3e50;margin-bottom:20px;text-align:center;">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</h2>
    
    <!-- ๐ ุฃุฏูุงุช ุงูุชุญูู -->
    <div class="controls" style="margin-bottom:14px;">
      <input type="text" id="userSearch" class="input" placeholder="๐ ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุจุฑูุฏ">
      <select id="userType" class="select">
        <option value="">ุฌููุน ุงููุณุชุฎุฏููู</option>
        <option value="hotel">ุงูููุงุฏู</option>
        <option value="client">ุงูุนููุงุก</option>
      </select>
      <select id="userStatus" class="select">
        <option value="">ุฌููุน ุงูุญุงูุงุช</option>
        <option value="active">ูุดุท</option>
        <option value="inactive">ุบูุฑ ูุดุท</option>
      </select>
      <button id="refreshUsers" class="btn">๐ ุชุญุฏูุซ</button>
    </div>
    
    <!-- ๐น ุดุจูุฉ ุนุฑุถ ุงููุณุชุฎุฏููู -->
    <div id="usersGrid" class="grid user-cards">
      <div class="card user-card">
        <div class="skeleton"></div>
      </div>
      <div class="card user-card">
        <div class="skeleton"></div>
      </div>
      <div class="card user-card">
        <div class="skeleton"></div>
      </div>
    </div>
  </section>

  <!-- ๐งพ ูุณู ุณุฌู ุงูุนูููุงุช -->
  <section id="logsSection" style="display:none;margin-top:30px;">
    <h2 style="color:#2c3e50;margin-bottom:20px;text-align:center;">ุณุฌู ุงูุนูููุงุช (Audit Log)</h2>
    
    <!-- ๐ ุฃุฏูุงุช ุงูุชุญูู -->
    <div class="controls" style="margin-bottom:14px;">
      <input type="text" id="logSearch" class="input" placeholder="๐ ุงุจุญุซ ูู ุงูุณุฌู">
      <select id="logType" class="select">
        <option value="">ุฌููุน ุงูุฃููุงุน</option>
        <option value="booking">ุงูุญุฌูุฒุงุช</option>
        <option value="user">ุงููุณุชุฎุฏููู</option>
        <option value="system">ุงููุธุงู</option>
        <option value="payment">ุงููุฏููุนุงุช</option>
      </select>
      <select id="logLevel" class="select">
        <option value="">ุฌููุน ุงููุณุชููุงุช</option>
        <option value="info">ูุนูููุงุช</option>
        <option value="warning">ุชุญุฐูุฑ</option>
        <option value="error">ุฎุทุฃ</option>
        <option value="success">ูุฌุงุญ</option>
      </select>
      <button id="refreshLogs" class="btn">๐ ุชุญุฏูุซ</button>
      <button id="clearLogs" class="btn ghost">๐๏ธ ูุณุญ ุงูุณุฌู</button>
    </div>
    
    <!-- ๐น ูุงุฆูุฉ ุงูุณุฌูุงุช -->
    <section id="logsList" class="list">
      <div class="card log-item">
        <div class="skeleton"></div>
      </div>
      <div class="card log-item">
        <div class="skeleton"></div>
      </div>
      <div class="card log-item">
        <div class="skeleton"></div>
      </div>
    </section>
  </section>
</main>


<!-- Toasts -->
<div class="toasts" id="toasts"></div>

<!-- Notifications -->
<div id="notifications" class="toasts"></div>

<!-- Modal -->
<div class="modal-backdrop" id="modal">
  <div class="modal">
    <div class="modal-title" id="modalTitle">ุชุฃููุฏ ุงูุฅุฌุฑุงุก</div>
    <div id="modalBody" style="color:var(--muted)">ูู ุชุฑูุฏ ุชูููุฐ ูุฐุง ุงูุฅุฌุฑุงุกุ</div>
    <div class="modal-actions">
      <button class="btn-mini" id="btnCancel">ุฅูุบุงุก</button>
      <button class="btn-mini primary" id="btnOk">ุชุฃููุฏ</button>
    </div>
  </div>
</div>

<!-- โ ููุชุจุฉ Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- โ ุณูุฑุจุช ููุญุฉ ุงูุฅุฏุงุฑุฉ -->
<script src="./admin.js"></script>

<label class="theme-switch">
  <input type="checkbox" id="theme-toggle">
  <span class="slider"></span>
</label>

<!-- ูุงูุฐุฉ ุชูุงุตูู ุงูููุฏู -->
<!-- ๐ช ูุงูุฐุฉ ุชูุงุตูู ุงูููุฏู -->
<div class="modal-backdrop" id="hotelModal">
  <div class="modal" style="max-width:750px;">
    <div class="modal-title" id="hotelModalTitle">ุชูุงุตูู ุงูููุฏู</div>
    <div id="hotelModalBody"
         style="color:var(--muted);max-height:420px;overflow-y:auto">
      ุฌุงุฑู ุงูุชุญููู...
    </div>
    <div class="modal-actions" style="text-align:center;margin-top:15px;">
      <button class="btn-mini"
              onclick="document.getElementById('hotelModal').classList.remove('show')">
        ุฅุบูุงู
      </button>
    </div>
  </div>
</div>



</body>
</html>