<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MukallaStay โ ุงูุนููู</title>
  <link rel="stylesheet" href="./style.css" />
  <!-- ุฎุฑูุทุฉ Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>

<body>
  <!-- ๐ ุฒุฑ ุชุจุฏูู ุงููุถุน -->
  <label class="theme-switch" title="ุชุจุฏูู ุงููุถุน">
    <input type="checkbox" id="theme-toggle" />
    <span class="slider"></span>
  </label>

  <!-- ๐ ุงูุดุฑูุท ุงูุนููู -->
  <header class="topbar glassy">
    <div class="wrap row">
      <div class="brand">
        <a href="/client/" class="logo-link">
          <img src="/uploads/logo.jpg" alt="MukallaStay" class="logo reveal" />
        </a>
        <span class="brand-text reveal">MukallaStay โ ุงูุนููู</span>
      </div>

      <nav class="tabs">
        <button class="tab active reveal" data-target="explore">ุงุณุชูุดุงู</button>
        <button class="tab reveal" data-target="book">ุญุฌุฒ ุฌุฏูุฏ</button>
        <button class="tab reveal" data-target="track">ูุชุงุจุนุฉ ุงูุญุฌุฒ</button>
        <button class="tab reveal" data-target="reviews">ุงูุชููููุงุช โญ</button>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <!-- ๐จ ุงุณุชูุดุงู -->
    <section id="explore" class="screen active">
      <!-- ๐ด ุดุฑูุท ุชุฑุญูุจู -->
      <div class="welcome-box" style="margin-top:10px;">
        <h3>๐จ ุฃููุงู ุจู ูู <span class="highlight">MukallaStay</span>!</h3>
        <p>ุงุณุชูุดู ููุงุฏู ุงููููุง ุงููุชุงุญุฉ ูุงุญุฌุฒ ุจุณูููุฉ ูุฎุทูุฉ ุจุฎุทูุฉ โจ</p>
      </div>

      <!-- ๐ฏ ุดุฑูุท ุงูุชุตููุฉ -->
      <div class="filters row" style="justify-content:center; gap:10px; margin-top:15px;">
        <select id="filterCity" class="select filter">
          <option value="">๐ ูู ุงููุฏู</option>
          <option value="Mukalla">ุงููููุง</option>
          <option value="Aden">ุนุฏู</option>
          <option value="Sana'a">ุตูุนุงุก</option>
        </select>

        <select id="filterType" class="select filter">
          <option value="">๐จ ุฌููุน ุงูุฃููุงุน</option>
          <option value="hotel">ููุฏู</option>
          <option value="apartment">ุดูุฉ ููุฏููุฉ</option>
          <option value="resort">ููุชุฌุน</option>
        </select>

        <select id="filterSort" class="select filter">
          <option value="">๐ฝ ุงูุชุฑุชูุจ ุงูุงูุชุฑุงุถู</option>
          <option value="low">ุงูุณุนุฑ ุงูุฃูู</option>
          <option value="high">ุงูุณุนุฑ ุงูุฃุนูู</option>
        </select>

        <button id="btnApplyFilters" class="btn">ุชุตููุฉ ๐</button>
      </div>

      <h2 class="h2 reveal">ุงูููุงุฏู ุงููุชุงุญุฉ</h2>

      <!-- ๐บ๏ธ ุฒุฑ ุนุฑุถ ุงูุฎุฑูุทุฉ -->
      <button id="btnShowMap" class="btn" style="margin-bottom:10px">๐บ๏ธ ุนุฑุถ ุฎุฑูุทุฉ ุงูููุงุฏู</button>

      <!-- ุตูุฏูู ุงูุฎุฑูุทุฉ (ูุฎูู ูุจุฏุฆูุงู) -->
      <div id="mapBox" style="display:none; margin-bottom:20px; border-radius:12px; overflow:hidden;">
        <div id="map" style="height:400px; width:100%;"></div>
      </div>

      <div id="hotels" class="grid reveal"></div>
      <div id="hotelsEmpty" class="empty">ูุง ุชูุฌุฏ ููุงุฏู ุญุงููุงู.</div>

      <!-- ุนุฑุถ ุชูุงุตูู ุงูููุฏู -->
      <div id="hotelView" class="hotel-view" style="display:none">
        <div class="hotel-header">
          <div class="hotel-header-left">
            <img id="hvImage" class="hotel-header-img" src="/images/hotel_placeholder.jpg" alt="Hotel Image">
            <div>
              <h2 id="hvName" class="hotel-header-title">ุงุณู ุงูููุฏู</h2>
              <p id="hvMeta" class="hotel-header-meta">ุงูุนููุงู โ ุงููุฏููุฉ</p>
              <p id="hvRating" class="hotel-header-meta" style="color:gold;font-weight:600;margin-top:3px;">
               โญ ูุง ุชูุฌุฏ ุชููููุงุช ุจุนุฏ
              </p>
            </div>
          </div>
          <button id="btnBackHotels" class="back-btn">โฌ ุฑุฌูุน</button>
        </div>

        <div id="hotelRooms" class="grid"></div>
        <div id="hotelRoomsEmpty" class="empty">ูุง ุชูุฌุฏ ุบุฑู ููุฐุง ุงูููุฏู ุญุงููุงู.</div>
        
        <div id="calendarBox" class="card" style="margin-top:20px;">
          <h3>๐๏ธ ุงูุชูุงุฑูุฎ ุงููุญุฌูุฒุฉ</h3>
          <div id="calendarDays" style="display:flex;flex-wrap:wrap;gap:6px;"></div>
        </div>
      </div>
    </section>

    <!-- ๐ ุฅูุดุงุก ุญุฌุฒ ุฌุฏูุฏ -->
    <section id="book" class="screen">
      <h2 class="h2">ุฅูุดุงุก ุญุฌุฒ ุฌุฏูุฏ</h2>

      <form id="formBook" class="form">
        <div class="field">
          <label>ุงุณู ุงูุนููู</label>
          <input type="text" id="bName" class="input" required />
        </div>

        <div class="field">
          <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
          <input type="email" id="bEmail" class="input" required />
        </div>
        <div class="field">
          <label>ุฑูู ุงููุงุชู (ูุงุชุณุงุจ)</label>
          <input type="tel" id="bPhone" class="input" placeholder="+9677XXXXXXX" required />
        </div>


        <div class="field">
          <label>ุงูููุฏู</label>
          <select id="bHotel" class="select" required></select>
        </div>

        <div class="field">
          <label>ุงูุบุฑูุฉ</label>
          <select id="bRoom" class="select" required></select>
        </div>

        <div class="field">
          <label>ุชุงุฑูุฎ ุงููุตูู</label>
          <input type="date" id="bIn" class="input" required />
        </div>

        <div class="field">
          <label>ุชุงุฑูุฎ ุงููุบุงุฏุฑุฉ</label>
          <input type="date" id="bOut" class="input" required />
        </div>

        <!-- ๐ข ุงูุณุนุฑ ูุงูุนุฑุจูู -->
        <div id="priceSummary" class="policy">
          ๐ฐ ุณูุชู ุญุณุงุจ ุงูุณุนุฑ ุงูุฅุฌูุงูู ุจุนุฏ ุงุฎุชูุงุฑ ุงูุชูุงุฑูุฎ ูุงูุบุฑูุฉ.
        </div>

        <button type="submit" class="btn primary">๐ฉ ุฅุฑุณุงู ุงูุทูุจ</button>
      </form>

      <div id="bookResult" class="policy"></div>

      <!-- ุณูุงุณุฉ ุงูุญุฌุฒ ูุงูุฏูุน -->
      <div class="policy">
        <h3>ุณูุงุณุฉ ุงูุญุฌุฒ ูุงูุฏูุน</h3>
        <ul>
          <li>ุงูููุฏู ูุฑุงุฌุน ุงูุทูุจ ุฎูุงู 24 ุณุงุนุฉ. ุนูุฏ ุงูููุงููุฉ ุณููุทูุจ ุฏูุน ุนุฑุจูู 5% ุฎูุงู ููู.</li>
          <li>ุงูุฏูุน ุงููุงูู ูุจู 7 ุฃูุงู ูู ุงููุตูู.</li>
          <li>ุฅูุบุงุก ูุจู 7 ุฃูุงู: ุงุณุชุฑุฌุงุน ุงูุนุฑุจููุ ุจุนุฏ ุฐูู: ูุง ููุณุชุฑุฌุน.</li>
          <li>ุชูุงุตูู ุชูุงุตู ุงูููุฏู ุชุธูุฑ ุจุนุฏ ุงูุฏูุน ุงููุงูู.</li>
        </ul>
      </div>
    </section>

    <!-- ๐ฆ ูุชุงุจุนุฉ ุงูุญุฌุฒ -->
    <section id="track" class="screen">
      <div class="welcome-box">
        <h3>๐ ุฃููุงู ุจู ูู <span class="highlight">MukallaStay</span></h3>
        <p>ููููู ููุง ูุชุงุจุนุฉ ุฌููุน <b>ุญุฌูุฒุงุชู</b> ุจุณูููุฉุ ููุนุฑูุฉ ุญุงูุชูุง ุฎุทูุฉ ุจุฎุทูุฉ.</p>
      </div>

      <h2 class="h2 center">๐ฆ ูุชุงุจุนุฉ ุญุงูุฉ ุงูุญุฌุฒ</h2>

      <div class="track-header">
        <input id="tRef" class="input wide" placeholder="๐ ุฃุฏุฎู ุฑูู ุงูุญุฌุฒ (ูุซู: MS-2025-12345)" />
        <button id="btnTrack" class="btn primary">ุจุญุซ</button>
      </div>

      <div class="track-header">
        <input id="tEmail" class="input wide" type="email" placeholder="๐ง ุฃุฏุฎู ุจุฑูุฏู ุงูุฅููุชุฑููู ูุนุฑุถ ุฌููุน ุงูุญุฌูุฒุงุช" />
        <button id="btnTrackEmail" class="btn gradient">ุนุฑุถ ุฌููุน ุงูุญุฌูุฒุงุช</button>
      </div>

      <div id="allBookings" style="margin-top:15px;"></div>
      <div id="trackCard" class="card"></div>

      <!-- ๐ฐ ุฑูุน ุฅุซุจุงุช ุงูุฏูุน -->
      <div id="payBox" style="display:none; margin-top:20px;">
        <h3>๐ฐ ุฑูุน ุฅุซุจุงุช ุฏูุน ุงูุนุฑุจูู</h3>

        <label>ุทุฑููุฉ ุงูุฏูุน:</label>
        <select id="payMethod" class="select">
          <option value="bank">ุชุญููู ุจููู</option>
          <option value="cash">ููุฏูุง</option>
        </select>

        <label>ูุจูุบ ุงูุนุฑุจูู:</label>
        <input type="number" id="payAmount" min="1" step="0.01" class="input" placeholder="ุงููุจูุบ ุจุงูุฏููุงุฑ" />

        <label>ุตูุฑุฉ ุงูุฅูุตุงู:</label>
        <input type="file" id="payFile" accept="image/*" class="input" />

        <button id="btnSendProof" class="btn primary" type="button" style="margin-top:10px;">
          ๐ค ุฅุฑุณุงู ุฅุซุจุงุช ุงูุฏูุน
        </button>
      </div>
    </section>

    <!-- โญ ุงูุชููููุงุช -->
    <section id="reviews" class="screen">
      <h2 class="h2 center">โญ ุชููููุงุช ุงูุนููุงุก</h2>
      <div id="avgRatings" class="grid" style="margin-bottom:20px;"></div>

      <div id="reviewsList" class="grid"></div>
      <div id="noReviews" class="empty">ูุง ุชูุฌุฏ ุชููููุงุช ุจุนุฏ.</div>

      <div class="card" style="margin-top:20px;">
        <h3>๐ ุฃุถู ุชููููู</h3>
        <input type="email" id="revEmail" class="input" placeholder="๐ง ุฃุฏุฎู ุจุฑูุฏู ุงูุฅููุชุฑููู">
        <button id="btnLoadMyBookings" class="btn">ุนุฑุถ ุญุฌูุฒุงุชู ุงููุคูุฏุฉ</button>

        <div id="revBookingsBox" style="margin-top:10px;"></div>
        
        <!-- โ ูุงูุฐุฉ ููุจุซูุฉ ูุฅุถุงูุฉ ุงูุชูููู -->
        <div id="reviewModal" class="modal" style="display:none;">
          <div class="modal-content">
            <h3>๐ ุฃุถู ุชููููู</h3>
            <select id="revRating" class="select" style="margin-bottom:10px;">
              <option value="5">โญโญโญโญโญ ููุชุงุฒ ุฌุฏุงู</option>
              <option value="4">โญโญโญโญ ุฌูุฏ ุฌุฏุงู</option>
              <option value="3">โญโญโญ ุฌูุฏ</option>
              <option value="2">โญโญ ููุจูู</option>
              <option value="1">โญ ุณูุก</option>
            </select>
            <textarea id="revComment" class="input" placeholder="ุงูุชุจ ุฑุฃูู..." rows="3"></textarea>
            <div class="row" style="justify-content:space-between;margin-top:10px;">
              <button id="btnCancelReview" class="btn small red">ุฅูุบุงุก</button>
              <button id="btnAddReview" class="btn small">ุฅุฑุณุงู โ</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ุฑุณุงุฆู ุงูุชูุจูู -->
  <div id="toasts" class="toasts"></div>

  <!-- โ๏ธ ุณูุฑุจุช ุงูุชุทุจูู -->
  <script src="./main.js"></script>

  <!-- ๐ฌ ุฒุฑ ุชูุงุตู ูุงุชุณุงุจ -->
  <a href="https://wa.me/0033777263112"
     target="_blank"
     class="whatsapp-float"
     title="ุชูุงุตู ูุนูุง ุนุจุฑ ูุงุชุณุงุจ">
    ๐ฌ ุชูุงุตู ูุน ุงูุฅุฏุงุฑุฉ
  </a>
</body>
</html>